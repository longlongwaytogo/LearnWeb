<!DOCTYPE html>

<html>
    <head>
        <meta charset = "utf-8"/>   
    </head>
    <title>getLocation test</title>

    

    <body>

        <p id = "demo" > click me to get location:(可能需要比较长的时间获取) <br>
            <button onclick = "getLocation()" >click me</button>

        </p>

        <script>
                var x =document.getElementById("demo");
                function getLocation()
                {
                    if(navigator.getlocation)
                    {
                        navigator.geolocation.getCurrentPosition(showPosition,showError);
                    }
                    else
                    {
                        x.innerHTML = "该浏览器不支持定位。";
                        //x.innerHTML = "this browser not suppot get location.";
                    }
                }
        
                function showPosition(position)
                {
                    x.innerHTML = "latitude:" + position.coords.latitude 
                    + "<br> longitude:" + position.coords.longtitude;
                }
        
                function showError(error)
                {
                    switch(error.code)
                    {
                        case error.PERMISSION_DENIED:
                            x.innerHTML = "用户拒绝对地理位置的请求。"
                            break;
                        case error.POSITION_UNAVAILABLE: 
                        x.innerHTML = "位置信息不可用。"
                        break;
                        case error.TIMEOUT:
                        x.innerHTML ="访问超时。"
                        break;
                        case  error.UNKNOWN_ERROR:
                        x.innerHTML = "未知错误。"
                        break;
                    }
                }
            </script>
    </body>
</html>